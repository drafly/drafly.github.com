

<html xmlns="http://www.w3.org/1999/xhtml";>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>地图显示</title>
<style type="text/css">
*{
    margin:0px;
    padding:0px;
}
body, button, input, select, textarea {
    font: 12px/16px Verdana, Helvetica, Arial, sans-serif;
}
#info {
    margin-top: 10px;
}
</style>
</head>
<script>
</script>
<body onload="init()">
<script charset="utf-8" src="http://map.qq.com/api/js?v=2.exp"></script>
<script>
	var infoWin;
	var winWidth = 0;
	var winHeight = 0;
	function findDimensions() //函数：获取尺寸
	{
		//获取窗口宽度
		if (window.innerWidth)
		winWidth = window.innerWidth;
		else if ((document.body) && (document.body.clientWidth))
		winWidth = document.body.clientWidth;
		//获取窗口高度
		if (window.innerHeight)
		winHeight = window.innerHeight;
		else if ((document.body) && (document.body.clientHeight))
		winHeight = document.body.clientHeight;
		//通过深入Document内部对body进行检测，获取窗口大小
		if (document.documentElement && document.documentElement.clientHeight && document.documentElement.clientWidth)
		{
			winHeight = document.documentElement.clientHeight;
			winWidth = document.documentElement.clientWidth;
		}
	}
	findDimensions();
	//生成窗口
	document.write("<div id='text' style='width:"+winWidth+"px;height:"+winHeight+"px;'></div>");
	//调用函数，获取数值
	//window.onresize=findDimensions;
	
var init = function() {
	
	var center = new qq.maps.LatLng(33.0179031723,112.6281324625);
    var map = new qq.maps.Map(document.getElementById('text'),{
        center: center,
        zoom: 13
    });
	infoWin = new qq.maps.InfoWindow({
        map: map
    });
	var marker = new qq.maps.Marker({
                    map:map,
                    position: center
                });
	var anchor = new qq.maps.Point(20, 45),
                size = new qq.maps.Size(48, 48),
                origin = new qq.maps.Point(0, 0),
                icon = new qq.maps.MarkerImage(
                    "images/test2.png",
                    size,
                    origin,
                    anchor
                );
	infoWin.open();
	infoWin.setContent('<div style="width:180px;height:170px;padding-top:10px;font-size:16px">'+
                '<img style="float:left;" src="images/location.jpeg"/></br> '+
                '<a style="font-size:10pt; color:red;">南阳市天润富瑞阁酒店</a></br>地址：<a style="font-size:10pt; color:green;">南阳市宛城区迎宾大道6号（南阳大桥东侧路北）</a></div>');
	infoWin.setPosition(center);
	marker.setIcon(icon);
}
</script>
<script type="text/javascript">  
window.onresize = function(){   
	findDimensions();
	var text = document.getElementById('text');   
	text.style.width = winWidth;  
	text.style.height = winHeight;  
}  
</script>  
</body>
</html>